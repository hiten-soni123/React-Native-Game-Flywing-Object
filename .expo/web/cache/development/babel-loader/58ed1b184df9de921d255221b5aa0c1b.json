{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport DefaultTimer from \"./DefaultTimer\";\nimport DefaultTouchProcessor from \"./DefaultTouchProcessor\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar GameLoop = function (_Component) {\n  _inherits(GameLoop, _Component);\n\n  var _super = _createSuper(GameLoop);\n\n  function GameLoop(props) {\n    var _this;\n\n    _classCallCheck(this, GameLoop);\n\n    _this = _super.call(this, props);\n\n    _this.start = function () {\n      _this.touches.length = 0;\n      _this.previousTime = null;\n      _this.previousDelta = null;\n\n      _this.timer.start();\n    };\n\n    _this.stop = function () {\n      _this.timer.stop();\n    };\n\n    _this.updateHandler = function (currentTime) {\n      var args = {\n        touches: _this.touches,\n        screen: _this.screen,\n        layout: _this.layout,\n        time: {\n          current: currentTime,\n          previous: _this.previousTime,\n          delta: currentTime - (_this.previousTime || currentTime),\n          previousDelta: _this.previousDelta\n        }\n      };\n      if (_this.props.onUpdate) _this.props.onUpdate(args);\n      _this.touches.length = 0;\n      _this.previousTime = currentTime;\n      _this.previousDelta = args.time.delta;\n    };\n\n    _this.onLayoutHandler = function (e) {\n      _this.screen = Dimensions.get(\"window\");\n      _this.layout = e.nativeEvent.layout;\n\n      _this.forceUpdate();\n    };\n\n    _this.onTouchStartHandler = function (e) {\n      _this.touchProcessor.process(\"start\", e.nativeEvent);\n    };\n\n    _this.onTouchMoveHandler = function (e) {\n      _this.touchProcessor.process(\"move\", e.nativeEvent);\n    };\n\n    _this.onTouchEndHandler = function (e) {\n      _this.touchProcessor.process(\"end\", e.nativeEvent);\n    };\n\n    _this.timer = props.timer || new DefaultTimer();\n\n    _this.timer.subscribe(_this.updateHandler);\n\n    _this.touches = [];\n    _this.screen = Dimensions.get(\"window\");\n    _this.previousTime = null;\n    _this.previousDelta = null;\n    _this.touchProcessor = props.touchProcessor(_this.touches);\n    _this.layout = null;\n    return _this;\n  }\n\n  _createClass(GameLoop, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.running) this.start();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.stop();\n      this.timer.unsubscribe(this.updateHandler);\n      if (this.touchProcessor.end) this.touchProcessor.end();\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (nextProps.running !== this.props.running) {\n        if (nextProps.running) this.start();else this.stop();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _jsx(View, {\n        style: [css.container, this.props.style],\n        onLayout: this.onLayoutHandler,\n        onTouchStart: this.onTouchStartHandler,\n        onTouchMove: this.onTouchMoveHandler,\n        onTouchEnd: this.onTouchEndHandler,\n        children: this.props.children\n      });\n    }\n  }]);\n\n  return GameLoop;\n}(Component);\n\nexport { GameLoop as default };\nGameLoop.defaultProps = {\n  touchProcessor: DefaultTouchProcessor({\n    triggerPressEventBefore: 200,\n    triggerLongPressEventAfter: 700\n  }),\n  running: true\n};\nvar css = StyleSheet.create({\n  container: {\n    flex: 1\n  }\n});","map":{"version":3,"names":["React","Component","DefaultTimer","DefaultTouchProcessor","GameLoop","props","start","touches","length","previousTime","previousDelta","timer","stop","updateHandler","currentTime","args","screen","layout","time","current","previous","delta","onUpdate","onLayoutHandler","e","Dimensions","get","nativeEvent","forceUpdate","onTouchStartHandler","touchProcessor","process","onTouchMoveHandler","onTouchEndHandler","subscribe","running","unsubscribe","end","nextProps","css","container","style","children","defaultProps","triggerPressEventBefore","triggerLongPressEventAfter","StyleSheet","create","flex"],"sources":["C:/Users/HITEN/firstapp/node_modules/react-native-game-engine/src/GameLoop.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { View, StyleSheet, Dimensions } from \"react-native\";\nimport DefaultTimer from \"./DefaultTimer\";\nimport DefaultTouchProcessor from \"./DefaultTouchProcessor\";\n\nexport default class GameLoop extends Component {\n  constructor(props) {\n    super(props);\n    this.timer = props.timer || new DefaultTimer();\n    this.timer.subscribe(this.updateHandler);\n    this.touches = [];\n    this.screen = Dimensions.get(\"window\");\n    this.previousTime = null;\n    this.previousDelta = null;\n    this.touchProcessor = props.touchProcessor(this.touches);\n    this.layout = null;\n  }\n\n  componentDidMount() {\n    if (this.props.running) this.start();\n  }\n\n  componentWillUnmount() {\n    this.stop();\n    this.timer.unsubscribe(this.updateHandler);\n    if (this.touchProcessor.end) this.touchProcessor.end();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.running !== this.props.running) {\n      if (nextProps.running) this.start();\n      else this.stop();\n    }\n  }\n\n  start = () => {\n    this.touches.length = 0;\n    this.previousTime = null;\n    this.previousDelta = null;\n    this.timer.start();\n  };\n\n  stop = () => {\n    this.timer.stop();\n  };\n\n  updateHandler = currentTime => {\n    let args = {\n      touches: this.touches,\n      screen: this.screen,\n      layout: this.layout,\n      time: {\n        current: currentTime,\n        previous: this.previousTime,\n        delta: currentTime - (this.previousTime || currentTime),\n        previousDelta: this.previousDelta\n      }\n    };\n\n    if (this.props.onUpdate) this.props.onUpdate(args);\n\n    this.touches.length = 0;\n    this.previousTime = currentTime;\n    this.previousDelta = args.time.delta;\n  };\n\n  onLayoutHandler = e => {\n    this.screen = Dimensions.get(\"window\");\n    this.layout = e.nativeEvent.layout;\n    this.forceUpdate();\n  };\n\n  onTouchStartHandler = e => {\n    this.touchProcessor.process(\"start\", e.nativeEvent);\n  };\n\n  onTouchMoveHandler = e => {\n    this.touchProcessor.process(\"move\", e.nativeEvent);\n  };\n\n  onTouchEndHandler = e => {\n    this.touchProcessor.process(\"end\", e.nativeEvent);\n  };\n\n  render() {\n    return (\n      <View\n        style={[css.container, this.props.style]}\n        onLayout={this.onLayoutHandler}\n        onTouchStart={this.onTouchStartHandler}\n        onTouchMove={this.onTouchMoveHandler}\n        onTouchEnd={this.onTouchEndHandler}\n      >\n        {this.props.children}\n      </View>\n    );\n  }\n}\n\nGameLoop.defaultProps = {\n  touchProcessor: DefaultTouchProcessor({\n    triggerPressEventBefore: 200,\n    triggerLongPressEventAfter: 700\n  }),\n  running: true\n};\n\nconst css = StyleSheet.create({\n  container: {\n    flex: 1\n  }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}